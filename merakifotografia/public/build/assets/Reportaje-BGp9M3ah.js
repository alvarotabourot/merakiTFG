import{_ as $}from"./AuthenticatedLayout-MXKCAcrT.js";import{r as v,f as B,o as a,l as N,w as V,b as e,a as i,m as S,t as m,c as n,n as E,d as p,F as O,g as D,i as f}from"./app-Ciu3P-SA.js";import"./heic2any-TgjPBaeP.js";import q from"./ReportajesForm-CSJmx6Js.js";import"./ApplicationLogo-DUo0UlGc.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./InputLabel-Boxk0wKV.js";import"./TextInput-6cJox-sh.js";const z={class:"flex justify-end mb-4 m-4"},L=e("span",{class:"text-sm"},"Volver",-1),A={class:"max-w-5xl mx-auto sm:px-4 lg:px-5"},T={class:"bg-white overflow-hidden sm:rounded-lg shadow-sides"},G={class:"p-6 text-gray-900"},H=["src"],I={class:"text-3xl text-black-500 font-mono font-bold text-center mb-4 mt-10 uppercase"},J={class:"text-center text-n text-gray-400 mb-4 text-2xl"},K={class:"text-center text-n text-gray-400 mb-4"},M={key:0,class:"flex gap-4 justify-end"},P=e("span",{class:"text-sm"},"Editar",-1),Q=e("span",{class:"text-sm"},"Borrar",-1),U={key:1,class:"flex gap-3 justify-end items-center p-3"},W={class:"text-gray-600 font-medium text-xl"},X={key:0,class:"max-w-7xl mx-auto sm:px-6 lg:px-8 mt-9"},Y={class:"bg-white overflow-hidden shadow-sides sm:rounded-lg"},Z=e("h2",{class:"text-3xl text-black-500 font-mono font-bold text-center mt-5"},"Fotos",-1),ee={class:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 p-6 text-gray-900"},te={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},oe={class:"overflow-hidden shadow-xl hover:shadow-sides2 sm:rounded-lg"},se={class:"p-3 text-gray-900"},ae=["href"],re=["src"],ne={key:1,class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},le=e("div",{class:"bg-white overflow-hidden shadow-sides mt-4"},[e("p",{class:"text-center text-n text-black-400 p-4"},"No hay fotos para este reporte")],-1),ie=[le],ce={class:"flex justify-center mb-2 m-4"},de=e("span",{class:"text-sm"},"Volver",-1),me={class:"w-[22rem] md:w-[70rem] max-w-lg bg-white rounded-lg shadow-lg"},we={__name:"Reportaje",props:{reportaje:Object,categorias:Array,auth:Object,isFavorito:Boolean,favoritosCount:Number},setup(t){const c=t,r=v(!1),u=v(null),b=()=>{r.value=!r.value,r.value||(u.value=null)},w=o=>{u.value=o,r.value=!0},j=o=>{o.target.classList.contains("div-overlay")&&(r.value=!1)},_=()=>{r.value=!1,u.value=null},y=o=>{confirm("¿Estás seguro de eliminar la categoría?")&&f.delete(route("reportaje.destroy",o),{onSuccess:()=>{console.log("Reportaje eliminada con éxito")}})},k=o=>{f.get(route("user.show",o))},F=o=>{c.isFavorito?C(o):R(o)},C=o=>{f.delete(route("favorito.destroy",o.id),{onSuccess:()=>{}})},R=o=>{f.post(route("favorito.store",o.id))},x=()=>{window.history.back()};return(o,s)=>{const d=B("font-awesome-icon");return a(),N($,null,{default:V(()=>{var g,h;return[e("div",z,[e("button",{onClick:x,class:"flex items-center text-gray-600 hover:text-gray-900 focus:outline-none"},[i(d,{icon:["fas","arrow-left"],class:"mr-2"}),L])]),e("div",A,[e("div",T,[e("div",G,[e("img",{src:`/imagenes/fotosReportajes/${t.reportaje.foto}`,alt:"portada",class:"w-full h-96 object-contain bg-black mx-auto"},null,8,H),S(),e("h2",I,m(t.reportaje.nombre),1),e("p",J,"Descripción: "+m(t.reportaje.descripcion),1),e("p",K,"Fecha: "+m(t.reportaje.fecha),1),e("p",{onClick:s[0]||(s[0]=l=>k(t.reportaje.fotografo.id)),class:"text-center text-n text-black-300 hover:text-black-500 cursor-pointer mb-4 underline"}," Fotógrafo: "+m(t.reportaje.fotografo.nombre),1),(g=c.auth)!=null&&g.user&&t.reportaje.fotografo&&c.auth.user.id===t.reportaje.fotografo.id?(a(),n("div",M,[e("button",{onClick:s[1]||(s[1]=l=>w(t.reportaje)),class:"flex gap-2 p-2 px-3 rounded-lg bg-yellow-400 items-center text-gray-900 focus:outline-none"},[i(d,{icon:["fas","pen-to-square"],class:"fa-1x"}),P]),e("button",{onClick:s[2]||(s[2]=l=>y(t.reportaje)),class:"flex gap-2 p-2 px-3 rounded-lg bg-red-400 items-center text-gray-900 focus:outline-none"},[i(d,{icon:["fas","trash"],class:"fa-1x"}),Q])])):(h=c.auth)!=null&&h.user?(a(),n("div",U,[e("span",W,m(t.favoritosCount),1),e("button",{onClick:s[3]||(s[3]=l=>F(t.reportaje)),class:"flex items-center gap-2 p-2 rounded-full bg-gray-100 shadow-md hover:shadow-lg transition-transform transform hover:scale-105 focus:outline-none"},[i(d,{icon:["fas","heart"],class:E([{"text-red-500":t.isFavorito,"text-gray-300":!t.isFavorito},"fa-lg"])},null,8,["class"])])])):p("",!0)])]),t.reportaje.fotos.length>0?(a(),n("div",X,[e("div",Y,[Z,e("div",ee,[(a(!0),n(O,null,D(t.reportaje.fotos,l=>(a(),n("div",te,[e("div",oe,[e("div",se,[e("a",{href:`/imagenes/fotosReportajes/${l.url}`,target:"_blank"},[e("img",{src:`/imagenes/fotosReportajes/${l.url}`,alt:"portada",class:"w-full h-48 object-cover"},null,8,re)],8,ae)])])]))),256))])])])):(a(),n("div",ne,ie))]),e("div",ce,[e("button",{onClick:x,class:"flex items-center text-gray-600 hover:text-gray-900 focus:outline-none"},[i(d,{icon:["fas","arrow-left"],class:"mr-2"}),de])]),r.value?(a(),n("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center div-overlay bg-black bg-opacity-50 backdrop-blur-sm",onClick:j},[e("div",me,[i(q,{reportaje:u.value,categorias:c.categorias,onFormSubmitted:_,onCloseForm:b},null,8,["reportaje","categorias"])])])):p("",!0)]}),_:1})}}};export{we as default};
